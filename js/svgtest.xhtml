<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE html 
      PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN"
      "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" 
      xmlns:svg="http://www.w3.org/2000/svg"
      xmlns:xlink="http://www.w3.org/1999/xlink">

<head>

<style type="text/css">
.arc:hover   { stroke: blue }
#svg         { float: left }
div#messages { clear: both; margin: 10px; border: solid 1px blue; 
               height: 10em; overflow: scroll }
</style>

<script type="text/javascript" src="debug.js"/>
<script type="text/javascript" src="utils.js"/>
<script type="text/javascript" src="vector.js"/>
<script type="text/javascript" src="net-elements.js"/>
<script type="text/javascript" src="net.js"/>
<script type="text/javascript" src="net-import-export.js"/>

<script type="text/javascript"><![CDATA[
function initNet() {

  /* var */ net  = new Net('net',500,300);

  var in1  = net.addPlace('in1' , 100, 100);
  var in2  = net.addPlace('in2' , 100, 200);
  var t1   = net.addTransition('t1',200,150);
  var out1 = net.addPlace('out1', 300, 100);
  var out2 = net.addPlace('out2', 300, 200);

  var a1 = net.addArc(in1,t1);
  var a2 = net.addArc(in2,t1);
  var a3 = net.addArc(t1,out1);
  var a4 = net.addArc(t1,out2);

  // net.removeArc(a2);
  // net.removePlace(out1);
  // net.removeTransition(t1);

  // wrap(net,'addArc',{before:function(s,t,m){
  //   message('addArc: '+s+'>'+t+' : '+m.map(function(p){return p.x+'/'+p.y;}).join(','));
  //   }});
  // wrap(Node.prototype,'cancelListeners',{before:function(){message('cancelListeners: '+this);}});
  // wrap(Node.prototype,'mousedownHandler',{before:function(e){message('mousedownHandler: '+this);}});
  // wrap(Node.prototype,'mouseupHandler',{before:function(e){message('mouseupHandler: '+this);}});

  document.body.insertBefore(net.svgDiv,document.body.firstChild);

  net.addImportExportControls();
  net.toggleHelp();

  messagePre(net.toString());
}

]]></script>

</head>

<body onload="initNet(); // JSEval('messages');ObjectViewer('messages');">
<div id='messages'/>

<hr/>

</body>

</html>
